<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch Vokabeltrainer</title>
    <style>
        :root {
            --primary-color: #2e7d32; /* Dunkelgr√ºn */
            --primary-hover: #1b5e20;
            --bg-color: #e8f5e9;      /* Helles Gr√ºn f√ºr Hintergrund */
            --card-bg: #ffffff;
            --text-color: #333;
            --shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        header {
            margin-top: 20px;
            text-align: center;
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .subtitle {
            color: #555;
            font-size: 0.9rem;
        }

        /* Hauptcontainer */
        .container {
            width: 90%;
            max-width: 600px;
            margin: 20px auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            flex-grow: 1;
        }

        /* Fortschrittsanzeige */
        .progress-container {
            margin-bottom: 15px;
            font-weight: bold;
            color: var(--primary-color);
            background: white;
            padding: 5px 15px;
            border-radius: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        /* Karteikarten-Szene (3D Wrapper) */
        .scene {
            width: 100%;
            height: 300px;
            perspective: 1000px;
            margin-bottom: 20px;
            cursor: pointer;
        }

        /* Die Karte selbst */
        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            border-radius: 15px;
            box-shadow: var(--shadow);
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        /* Vorder- und R√ºckseite */
        .card__face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            border-radius: 15px;
            background-color: var(--card-bg);
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
            border: 2px solid var(--primary-color);
        }

        .card__face--front {
            background: linear-gradient(135deg, #ffffff 0%, #f1f8e9 100%);
        }

        .card__face--back {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            transform: rotateY(180deg);
        }

        /* Textstyling auf der Karte */
        .card-label {
            position: absolute;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #888;
        }

        .card-content {
            font-weight: bold;
            line-height: 1.4;
            color: #222;
            padding: 0 10px;
            word-wrap: break-word;
        }

        /* Controls */
        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            width: 100%;
        }

        .btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
            display: flex;
            align-items: center;
            gap: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .btn:hover {
            background-color: var(--primary-hover);
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-secondary {
            background-color: #66bb6a;
        }
        .btn-secondary:hover {
            background-color: #43a047;
        }

        .instruction {
            margin-top: 30px;
            font-size: 0.8rem;
            color: #777;
            text-align: center;
            background: rgba(255,255,255,0.5);
            padding: 10px;
            border-radius: 8px;
        }

        .key-badge {
            display: inline-block;
            background: #fff;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 2px 6px;
            font-family: monospace;
            font-weight: bold;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        /* Responsives Design */
        @media (max-width: 600px) {
            .scene {
                height: 250px;
            }
            .btn {
                padding: 10px 15px;
                font-size: 0.9rem;
                flex: 1 1 40%; /* Buttons nehmen mehr Platz ein */
            }
            .controls {
                gap: 8px;
            }
        }
    </style>
</head>
<body>

    <header>
        <h1>Russisch Vokabeln</h1>
        <div class="subtitle">Akkusativ oder Genitiv nach Verneinung</div>
    </header>

    <div class="container">
        <!-- Fortschritt -->
        <div class="progress-container" id="progress">1 / 56</div>

        <!-- Karteikarte -->
        <div class="scene">
            <div class="card" id="flashcard">
                <div class="card__face card__face--front">
                    <span class="card-label">Russisch</span>
                    <div class="card-content" id="front-text">Lade Daten...</div>
                </div>
                <div class="card__face card__face--back">
                    <span class="card-label">Deutsch</span>
                    <div class="card-content" id="back-text">...</div>
                </div>
            </div>
        </div>

        <!-- Steuerung -->
        <div class="controls">
            <button class="btn" id="prevBtn" title="Pfeiltaste Links">‚Üê Vorherige</button>
            <button class="btn btn-secondary" id="shuffleBtn" title="Zuf√§llige Reihenfolge">Mischen üîÄ</button>
            <button class="btn btn-secondary" id="resetBtn" title="Pos1 Taste">Anfang ‚Ü∫</button>
            <button class="btn" id="nextBtn" title="Pfeiltaste Rechts">N√§chste ‚Üí</button>
        </div>

        <div class="instruction">
            <p>
                Navigation: <span class="key-badge">‚Üê</span> <span class="key-badge">‚Üí</span> | 
                Umdrehen: <span class="key-badge">Leertaste</span> oder <span class="key-badge">Enter</span> | 
                Reset: <span class="key-badge">Pos1</span>
            </p>
        </div>
    </div>

    <script>
        // --- Vokabeldaten ---
        const rawData = `
1.	–ø—Ä–∞ÃÅ–≤–æ ‚Äì das Recht
2.	–≤—Ä–µÃÅ–º—è ‚Äì die Zeit
3.	—Å–º—ã—Å–ª ‚Äì der Sinn
4.	–≤–Ω–∏–º–∞ÃÅ–Ω–∏–µ ‚Äì die Aufmerksamkeit
5.	—Ä–æ–ª—å (f.) ‚Äì die Rolle
6.	–±–æ–ª—å (f.) ‚Äì der Schmerz
7.	–æ—Ç–≤–µÃÅ—Ç ‚Äì die Antwort
8.	—Å–ª–æÃÅ–≤–æ ‚Äì das Wort
9.	–≤—ãÃÅ—Ö–æ–¥ ‚Äì der Ausgang, der Ausweg
10.	–º–µÃÅ—Å—Ç–æ ‚Äì der Platz, der Ort
11.	–¥–æ–∂–¥—å (m.) ‚Äì der Regen
12.	–∫–Ω–∏ÃÅ–≥–∞ ‚Äì das Buch
13.	–º–∞—à–∏ÃÅ–Ω–∞ ‚Äì das Auto
14.	–≤–∞ÃÅ–∑–∞ ‚Äì die Vase
15.	–≥–æ–ª–æ–≤–∞ÃÅ ‚Äì der Kopf
16.	–≤–æ–¥–∞ÃÅ ‚Äì das Wasser
17.	—Å—Ç—É–ª ‚Äì der Stuhl
18.	—Å—ÉÃÅ–º–∫–∞ ‚Äì die Tasche
19.	—Ö–ª–µ–± ‚Äì das Brot
20.	–º–æ–ª–æ–∫–æÃÅ ‚Äì die Milch
21.	—Ä—ãÃÅ–±–∞ ‚Äì der Fisch
22.	–∫–æ–ª–±–∞—Å–∞ÃÅ ‚Äì die Wurst
23.	–∫–æ—à–µ–ª—ë–∫ ‚Äì der Geldbeutel
24.	–¥–µÃÅ–Ω—å–≥–∏ (Pl.) ‚Äì das Geld
25.	—É—Ä–æÃÅ–∫ ‚Äì die Lektion, die Hausaufgabe
26.	–∑–∏–º–∞ÃÅ ‚Äì der Winter
27.	–¥–æÃÅ–º ‚Äì das Haus
28.	—á–µ–ª–æ–≤–µÃÅ–∫ ‚Äì der Mensch
29.	–º—èÃÅ—Å–æ ‚Äì das Fleisch
30.	—Ñ–∏–ª—å–º ‚Äì der Film
31.	–¥–æ—Ä–æÃÅ–≥–∞ ‚Äì der Weg, die Stra√üe
32.	–∏–º–µÃÅ—Ç—å (NSV) ‚Äì haben, besitzen
33.	–≤–∏ÃÅ–¥–µ—Ç—å / —É–≤–∏ÃÅ–¥–µ—Ç—å ‚Äì sehen
34.	—Å–ª—ãÃÅ—à–∞—Ç—å / —É—Å–ª—ãÃÅ—à–∞—Ç—å ‚Äì h√∂ren
35.	–∑–Ω–∞—Ç—å / —É–∑–Ω–∞ÃÅ—Ç—å ‚Äì wissen, kennen / erfahren, erkennen
36.	—á–∏—Ç–∞ÃÅ—Ç—å / –ø—Ä–æ—á–∏—Ç–∞ÃÅ—Ç—å ‚Äì lesen
37.	–ø–∏—Å–∞ÃÅ—Ç—å / –Ω–∞–ø–∏—Å–∞ÃÅ—Ç—å ‚Äì schreiben
38.	–¥–∞–≤–∞ÃÅ—Ç—å / –¥–∞—Ç—å ‚Äì geben
39.	–ø–æ–∫—É–ø–∞ÃÅ—Ç—å / –∫—É–ø–∏ÃÅ—Ç—å ‚Äì kaufen
40.	—Ä–∞–∑–±–∏–≤–∞ÃÅ—Ç—å / —Ä–∞–∑–±–∏ÃÅ—Ç—å ‚Äì zerbrechen, zerschlagen
41.	–ª–æ–º–∞ÃÅ—Ç—å / —Å–ª–æ–º–∞ÃÅ—Ç—å ‚Äì zerbrechen, kaputt machen
42.	–Ω–∞—Ö–æ–¥–∏ÃÅ—Ç—å / –Ω–∞–π—Ç–∏ÃÅ ‚Äì finden
43.	–∑–∞–±—ã–≤–∞ÃÅ—Ç—å / –∑–∞–±—ãÃÅ—Ç—å ‚Äì vergessen
44.	–∂–¥–∞ÃÅ—Ç—å / –ø–æ–¥–æ–∂–¥–∞ÃÅ—Ç—å ‚Äì warten
45.	–ø–∏—Ç—å / –≤—ãÃÅ–ø–∏—Ç—å ‚Äì trinken
46.	–µ—Å—Ç—å / —Å—ä–µ—Å—Ç—å ‚Äì essen
47.	—Ö–æ—Ç–µÃÅ—Ç—å / –∑–∞—Ö–æ—Ç–µÃÅ—Ç—å ‚Äì wollen
48.	–∏–≥—Ä–∞ÃÅ—Ç—å / —Å—ã–≥—Ä–∞ÃÅ—Ç—å ‚Äì spielen
49.	–æ–±—Ä–∞—â–∞ÃÅ—Ç—å / –æ–±—Ä–∞—Ç–∏ÃÅ—Ç—å (–≤–Ω–∏–º–∞ÃÅ–Ω–∏–µ) ‚Äì (Aufmerksamkeit) schenken/lenken
50.	–º–æ—Ä–æÃÅ—á–∏—Ç—å / –∑–∞–º–æ—Ä–æÃÅ—á–∏—Ç—å (–≥–æÃÅ–ª–æ–≤—É) ‚Äì (den Kopf) verdrehen, t√§uschen
51.	—á—ÉÃÅ–≤—Å—Ç–≤–æ–≤–∞—Ç—å / –ø–æ—á—ÉÃÅ–≤—Å—Ç–≤–æ–≤–∞—Ç—å ‚Äì f√ºhlen, sp√ºren
52.	–Ω–∏–∫–æ–≥–¥–∞ÃÅ ‚Äì niemals
53.	–Ω–∏—á–µ–≥–æÃÅ ‚Äì nichts
54.	–Ω–∏ ... –Ω–∏ ‚Äì weder ... noch
55.	—á—É—Ç—å –Ω–µ ‚Äì fast, beinahe
56.	–µ–¥–≤–∞ÃÅ –Ω–µ ‚Äì kaum, beinahe, gerade noch
`;

        // --- State Management ---
        let cards = [];
        let currentIndex = 0;
        let isFlipped = false;

        // --- Parsing der Daten ---
        function parseData(data) {
            const lines = data.trim().split('\n');
            return lines.map(line => {
                // Entfernt die Nummer am Anfang (z.B. "1. ") und splittet bei Gedankenstrich/Bindestrich
                // Regex: Ziffern, Punkt, Leerzeichen am Anfang entfernen
                const cleanLine = line.replace(/^\d+\.\s*/, '');
                // Trennung am Gedankenstrich (‚Äì) oder Bindestrich (-)
                const parts = cleanLine.split(/ ‚Äì | - /);
                
                if (parts.length >= 2) {
                    return {
                        front: parts[0].trim(),
                        back: parts[1].trim()
                    };
                }
                return null;
            }).filter(item => item !== null);
        }

        // --- DOM Elemente ---
        const cardElement = document.getElementById('flashcard');
        const frontText = document.getElementById('front-text');
        const backText = document.getElementById('back-text');
        const progressDisplay = document.getElementById('progress');
        const btnNext = document.getElementById('nextBtn');
        const btnPrev = document.getElementById('prevBtn');
        const btnShuffle = document.getElementById('shuffleBtn');
        const btnReset = document.getElementById('resetBtn');

        // --- Hauptfunktionen ---

        function init() {
            cards = parseData(rawData);
            updateCardDisplay();
        }

        function updateCardDisplay() {
            // Karte zur√ºckdrehen, bevor Inhalt ge√§ndert wird (f√ºr bessere UX)
            if (isFlipped) {
                cardElement.classList.remove('is-flipped');
                isFlipped = false;
                
                // Kurze Verz√∂gerung, damit die Animation sauber aussieht, bevor der Text wechselt
                setTimeout(() => {
                    setContent();
                }, 200);
            } else {
                setContent();
            }
        }

        function setContent() {
            if (cards.length === 0) return;

            const currentCard = cards[currentIndex];
            frontText.textContent = currentCard.front;
            backText.textContent = currentCard.back;
            
            // Schriftgr√∂√üe dynamisch anpassen
            adjustFontSize(frontText, currentCard.front);
            adjustFontSize(backText, currentCard.back);

            progressDisplay.textContent = `${currentIndex + 1} / ${cards.length}`;
        }

        function adjustFontSize(element, text) {
            // Einfache Logik zur Anpassung der Schriftgr√∂√üe basierend auf Textl√§nge
            const length = text.length;
            if (length < 10) {
                element.style.fontSize = "3rem";
            } else if (length < 20) {
                element.style.fontSize = "2.2rem";
            } else if (length < 40) {
                element.style.fontSize = "1.6rem";
            } else {
                element.style.fontSize = "1.2rem";
            }
        }

        function flipCard() {
            isFlipped = !isFlipped;
            cardElement.classList.toggle('is-flipped');
        }

        function nextCard() {
            if (currentIndex < cards.length - 1) {
                currentIndex++;
            } else {
                currentIndex = 0; // Loop zur√ºck zum Anfang
            }
            updateCardDisplay();
        }

        function prevCard() {
            if (currentIndex > 0) {
                currentIndex--;
            } else {
                currentIndex = cards.length - 1; // Loop zum Ende
            }
            updateCardDisplay();
        }

        function resetToStart() {
            currentIndex = 0;
            updateCardDisplay();
        }

        // Fisher-Yates Shuffle Algorithmus
        function shuffleDeck() {
            for (let i = cards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [cards[i], cards[j]] = [cards[j], cards[i]];
            }
            currentIndex = 0;
            updateCardDisplay();
        }

        // --- Event Listener ---

        // Klick auf Karte
        document.querySelector('.scene').addEventListener('click', flipCard);

        // Buttons
        btnNext.addEventListener('click', (e) => { e.stopPropagation(); nextCard(); });
        btnPrev.addEventListener('click', (e) => { e.stopPropagation(); prevCard(); });
        btnReset.addEventListener('click', (e) => { e.stopPropagation(); resetToStart(); });
        btnShuffle.addEventListener('click', (e) => { e.stopPropagation(); shuffleDeck(); });

        // Tastatursteuerung
        document.addEventListener('keydown', (e) => {
            switch(e.key) {
                case ' ':
                case 'Enter':
                    e.preventDefault(); // Verhindert Scrollen bei Leertaste
                    flipCard();
                    break;
                case 'ArrowRight':
                    nextCard();
                    break;
                case 'ArrowLeft':
                    prevCard();
                    break;
                case 'Home': // Pos1 Taste
                    resetToStart();
                    break;
            }
        });

        // Starten
        init();

    </script>
</body>
</html>